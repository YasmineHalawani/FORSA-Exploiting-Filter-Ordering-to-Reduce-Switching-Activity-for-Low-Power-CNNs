function [match_swap, loc_vector] = match_and_swap(converted_char2matrix)

swapped_binary_filter = converted_char2matrix;
loc_vector = ones(1, size(converted_char2matrix,2));

%check the matching
for k = 1: size(converted_char2matrix,2) - 1 % k changes after swapping
    matching = zeros(1, size(converted_char2matrix,2)); 
    for i = 1: size(converted_char2matrix,2) - k  %number of filters - 1 since each col is a filter
        matching_per_col = zeros(size(converted_char2matrix,1), 1);
        for j = 1: size(converted_char2matrix,1) % num of rows
            matching_per_col(j,1) = sum(eq(swapped_binary_filter{j,k},swapped_binary_filter{j,k+i}));
        end
        matching(1,i+k) =  sum(matching_per_col);
    end
%     k;
%     matching;
%     (8*size(converted_char2matrix,1)) - matching;
    [value , loc] = max(matching);
%     k+1
%     loc
    loc_vector(1,k+1) = loc;
    swapped_binary_filter = swap(swapped_binary_filter, k+1, loc);
%     k;
%     (8*size(swapped_binary_filter,1)) - matching;
    
    
    
end

match_swap = swapped_binary_filter;

end





